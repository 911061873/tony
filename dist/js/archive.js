$(document).ready((function(){var t=0,s=1,e=window.cate_id,i=window.cate_name,o=window.cate_des;$(".article-list").css("opacity","1"),$(".top1").html(i),$(".top2").html(o),$(".cat-real").attr("style","display:inline-block"),new Vue({el:"#grid-cell",data:()=>({site_url:window.site_url,exclude_option:window.cate_exclude_option,cate_exclude:window.cate_exclude,exclude_params:"",pages:window.index_p,cate_fre:window.cate_fre,cate_wor:window.cate_fre,posts:null,posts_id_sticky:"0",cates:null,des:null,loading:!0,loading_des:!0,errored:!0,loading_css:"loading-line"}),mounted(){"true"==this.cate_exclude&&(this.exclude_params="?exclude="+this.exclude_option),axios.get(this.site_url+"/wp-json/wp/v2/categories"+this.exclude_params).then((t=>{this.des=t.data})).then((()=>{this.loading_des=!1})),axios.get(this.site_url+"/wp-json/wp/v2/posts?sticky=1&categories="+e).then((t=>{this.posts=t.data;for(var i=0;i<this.posts.length;++i)this.posts_id_sticky+=","+this.posts[i].id;axios.get(this.site_url+"/wp-json/wp/v2/posts?sticky=0&categories="+e+"&exclude="+this.posts_id_sticky+"&per_page="+this.pages+"&page="+s).then((t=>{this.posts=this.posts.concat(t.data)}))})).catch((t=>{this.errored=!1})).then((()=>{this.loading=!1,s++,$(window).scroll((function(){$(window).scrollTop()>=$(".bottom").offset().top-500&&0==t&&($("#scoll_new_list").click(),t++)}))}))},methods:{new_page:function(){$("#view-text").html("-&nbsp;加载中&nbsp;-"),axios.get(this.site_url+"/wp-json/wp/v2/posts?sticky=0&exclude="+this.posts_id_sticky+"&per_page="+this.pages+"&page="+s+"&categories="+e).then((e=>{e.data.length&&0!==e.data.length?($("#view-text").html("-&nbsp;文章列表&nbsp;-"),this.posts.push.apply(this.posts,e.data),t=0,s++):(this.loading_css="",$("#view-text").html("-&nbsp;全部文章&nbsp;-"),$(".bottom h5").html('暂无更多文章了 O__O "…').css({background:"#fff",color:"#999"}))})).catch((t=>{this.loading_css="",$("#view-text").html("-&nbsp;所有文章&nbsp;-"),$(".bottom h5").html('暂无更多文章了 O__O "…').css({background:"#fff",color:"#999"})}))}},filters:{link_page:function(t){return t==this.cate_fre?"添加于 ":t==this.cate_wor?"创造于 ":""},link_style:function(t){return t==this.cate_fre||t==this.cate_wor?"display: flex;":""}}})}));